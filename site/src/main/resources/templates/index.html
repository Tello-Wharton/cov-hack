<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<body>
    <script type="text/javascript">
        var clientWebSocket = new WebSocket("ws://localhost:8080/event-emitter");
        clientWebSocket.onopen = function() {
            console.log("clientWebSocket.onopen", clientWebSocket);
            console.log("clientWebSocket.readyState", "websocketstatus");
            clientWebSocket.send("event-me-from-browser");
        }
        clientWebSocket.onclose = function(error) {
            console.log("clientWebSocket.onclose", clientWebSocket, error);
            events("Closing connection");
        }
        clientWebSocket.onerror = function(error) {
            console.log("clientWebSocket.onerror", clientWebSocket, error);
            events("An error occured");
        }
        clientWebSocket.onmessage = function(event) {
            console.log(JSON.parse(event.data));
        }
    </script>
    <p>Cake</p>
</body>
</html>